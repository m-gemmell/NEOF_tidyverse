{
  "hash": "3c86dba5bfa1e71c9254c0338a7f7e41",
  "result": {
    "markdown": "---\ntitle: \"Subsetting\"\nformat: html\n---\n\n\nThere are various ways to subset a __tibble__. This sections shows the various methods with examples.\n\n[Tidyverse's tibble subsetting webpage](https://tibble.tidyverse.org/reference/subsetting.html)\n\n## Load data\n\nThe examples in this section use the `pie_crab` data from the [lterdatasampler package](/datasets/lterdatasampler.qmd) (includes install instructions).\n\nLoad package\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(\"lterdatasampler\")\n```\n:::\n\n\nCreate a __tibble__ from a subset of the pie_crab data.\n\n::: {.cell}\n\n```{.r .cell-code}\npie_crab_tbl <- tibble::as_tibble(lterdatasampler::pie_crab[1:10,1:7])\npie_crab_tbl\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 10 × 7\n   date       latitude site   size air_temp air_temp_sd water_temp\n   <date>        <dbl> <chr> <dbl>    <dbl>       <dbl>      <dbl>\n 1 2016-07-24       30 GTM    12.4     21.8        6.39       24.5\n 2 2016-07-24       30 GTM    14.2     21.8        6.39       24.5\n 3 2016-07-24       30 GTM    14.5     21.8        6.39       24.5\n 4 2016-07-24       30 GTM    12.9     21.8        6.39       24.5\n 5 2016-07-24       30 GTM    12.4     21.8        6.39       24.5\n 6 2016-07-24       30 GTM    13.0     21.8        6.39       24.5\n 7 2016-07-24       30 GTM    10.3     21.8        6.39       24.5\n 8 2016-07-24       30 GTM    11.2     21.8        6.39       24.5\n 9 2016-07-24       30 GTM    12.7     21.8        6.39       24.5\n10 2016-07-24       30 GTM    14.6     21.8        6.39       24.5\n```\n:::\n:::\n\n\n## One column with $\n\nSubsetting a column using `$` and a column name will produce a __vector__.\n\n\n::: {.cell}\n\n```{.r .cell-code}\npie_crab_tbl$site\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1] \"GTM\" \"GTM\" \"GTM\" \"GTM\" \"GTM\" \"GTM\" \"GTM\" \"GTM\" \"GTM\" \"GTM\"\n```\n:::\n\n```{.r .cell-code}\nstr(pie_crab_tbl$site)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n chr [1:10] \"GTM\" \"GTM\" \"GTM\" \"GTM\" \"GTM\" \"GTM\" \"GTM\" \"GTM\" \"GTM\" \"GTM\"\n```\n:::\n:::\n\n\n## Rows and columns with [,]\n\nSubsetting a __tibble__ with `[]` will always produce a __tibble__.\n\nThis is different from a __data.frame__ where you may extract a [scalar](https://neof-workshops.github.io/R_j4c0xh/04-R_objects.html#scalar), [vector](https://neof-workshops.github.io/R_j4c0xh/04-R_objects.html#vectors-lists), or __data.frame__.\n\n### Load data.frame\n\nCreate a __data.frame__ from the `pie_crab_tbl`.\n\n::: {.cell}\n\n```{.r .cell-code}\npie_crab_df <- as.data.frame(pie_crab_tbl)\npie_crab_df\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n         date latitude site  size air_temp air_temp_sd water_temp\n1  2016-07-24       30  GTM 12.43   21.792       6.391     24.502\n2  2016-07-24       30  GTM 14.18   21.792       6.391     24.502\n3  2016-07-24       30  GTM 14.52   21.792       6.391     24.502\n4  2016-07-24       30  GTM 12.94   21.792       6.391     24.502\n5  2016-07-24       30  GTM 12.45   21.792       6.391     24.502\n6  2016-07-24       30  GTM 12.99   21.792       6.391     24.502\n7  2016-07-24       30  GTM 10.32   21.792       6.391     24.502\n8  2016-07-24       30  GTM 11.19   21.792       6.391     24.502\n9  2016-07-24       30  GTM 12.68   21.792       6.391     24.502\n10 2016-07-24       30  GTM 14.55   21.792       6.391     24.502\n```\n:::\n:::\n\n\n### Extracting a value\n\nSubsetting one value from a __data.frame__ leads to a __scalar__\n\n::: {.cell}\n\n```{.r .cell-code}\npie_crab_df[1,1]\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"2016-07-24\"\n```\n:::\n\n```{.r .cell-code}\nstr(pie_crab_df[1,1])\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n Date[1:1], format: \"2016-07-24\"\n```\n:::\n:::\n\n\nSubsetting one value from a __tibble__ leads to a __tibble__\n\n::: {.cell}\n\n```{.r .cell-code}\npie_crab_tbl[1,1]\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1 × 1\n  date      \n  <date>    \n1 2016-07-24\n```\n:::\n:::\n\n\n### Extracting a row\n\nSubsetting a row from a __data.frame__ leads to a __data.frame__\n\n\n::: {.cell}\n\n```{.r .cell-code}\npie_crab_df[1,]\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n        date latitude site  size air_temp air_temp_sd water_temp\n1 2016-07-24       30  GTM 12.43   21.792       6.391     24.502\n```\n:::\n\n```{.r .cell-code}\nstr(pie_crab_df[1,])\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n'data.frame':\t1 obs. of  7 variables:\n $ date       : Date, format: \"2016-07-24\"\n $ latitude   : num 30\n $ site       : chr \"GTM\"\n $ size       : num 12.4\n $ air_temp   : num 21.8\n $ air_temp_sd: num 6.39\n $ water_temp : num 24.5\n```\n:::\n:::\n\n\nSubsetting a row from a __tibble__ leads to a __tibble__\n\n::: {.cell}\n\n```{.r .cell-code}\npie_crab_tbl[1,]\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1 × 7\n  date       latitude site   size air_temp air_temp_sd water_temp\n  <date>        <dbl> <chr> <dbl>    <dbl>       <dbl>      <dbl>\n1 2016-07-24       30 GTM    12.4     21.8        6.39       24.5\n```\n:::\n:::\n\n\n### Extracting a column\n\nSubsetting a column from a __data.frame__ leads to a __vector__\n\n::: {.cell}\n\n```{.r .cell-code}\npie_crab_df[,1]\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1] \"2016-07-24\" \"2016-07-24\" \"2016-07-24\" \"2016-07-24\" \"2016-07-24\"\n [6] \"2016-07-24\" \"2016-07-24\" \"2016-07-24\" \"2016-07-24\" \"2016-07-24\"\n```\n:::\n\n```{.r .cell-code}\nstr(pie_crab_df[,1])\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n Date[1:10], format: \"2016-07-24\" \"2016-07-24\" \"2016-07-24\" \"2016-07-24\" \"2016-07-24\" ...\n```\n:::\n:::\n\n\nSubsetting a column from a __tibble__ leads to a __tibble__\n\n::: {.cell}\n\n```{.r .cell-code}\npie_crab_tbl[,1]\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 10 × 1\n   date      \n   <date>    \n 1 2016-07-24\n 2 2016-07-24\n 3 2016-07-24\n 4 2016-07-24\n 5 2016-07-24\n 6 2016-07-24\n 7 2016-07-24\n 8 2016-07-24\n 9 2016-07-24\n10 2016-07-24\n```\n:::\n:::\n\n\n### Extracting a combo of columns and rows\n\nSubsetting rows and columns together from a __data.frame__ leads to a __data.frame__\n\n::: {.cell}\n\n```{.r .cell-code}\npie_crab_df[1:3,c(\"date\",\"air_temp\",\"size\")]\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n        date air_temp  size\n1 2016-07-24   21.792 12.43\n2 2016-07-24   21.792 14.18\n3 2016-07-24   21.792 14.52\n```\n:::\n\n```{.r .cell-code}\nstr(pie_crab_df[1:3,c(\"date\",\"air_temp\",\"size\")])\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n'data.frame':\t3 obs. of  3 variables:\n $ date    : Date, format: \"2016-07-24\" \"2016-07-24\" ...\n $ air_temp: num  21.8 21.8 21.8\n $ size    : num  12.4 14.2 14.5\n```\n:::\n:::\n\n\nSubsetting rows and columns together from a __tibble__ leads to a __tibble__\n\n::: {.cell}\n\n```{.r .cell-code}\npie_crab_tbl[1:3,c(\"date\",\"air_temp\",\"size\")]\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 3 × 3\n  date       air_temp  size\n  <date>        <dbl> <dbl>\n1 2016-07-24     21.8  12.4\n2 2016-07-24     21.8  14.2\n3 2016-07-24     21.8  14.5\n```\n:::\n:::\n\n\n## Dplyr\n\n<div class=\"hexrow\">\n  <p><a href=\"/dplyr/dplyr.qmd\">\n  <img src=\"/images/dplyr.png\" width=\"150px\">\n  </a></p>\n</div>\n\nThere are also many ways to subset a __tibble__ with `dplyr`.\n\n[`dplyr` page](/dplyr/dplyr.qmd)\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}